extends Node2D

# init A* grid
static var astar_grid : Object = AStarGrid2D.new()

# obstacles, created by the map_parsing Python script
const OBSTACLES : Array = [Vector2(0, 0), Vector2(1, 0), Vector2(2, 0), Vector2(3, 0), Vector2(4, 0), Vector2(5, 0), Vector2(6, 0), Vector2(7, 0), Vector2(8, 0), Vector2(9, 0), Vector2(10, 0), Vector2(11, 0), Vector2(12, 0), Vector2(13, 0), Vector2(14, 0), Vector2(15, 0), Vector2(16, 0), Vector2(17, 0), Vector2(18, 0), Vector2(19, 0), Vector2(20, 0), Vector2(21, 0), Vector2(22, 0), Vector2(23, 0), Vector2(24, 0), Vector2(25, 0), Vector2(26, 0), Vector2(27, 0), Vector2(28, 0), Vector2(29, 0), Vector2(0, 1), Vector2(8, 1), Vector2(29, 1), Vector2(0, 2), Vector2(6, 2), Vector2(8, 2), Vector2(9, 2), Vector2(10, 2), Vector2(11, 2), Vector2(12, 2), Vector2(13, 2), Vector2(14, 2), Vector2(15, 2), Vector2(21, 2), Vector2(23, 2), Vector2(29, 2), Vector2(0, 3), Vector2(3, 3), Vector2(4, 3), Vector2(5, 3), Vector2(6, 3), Vector2(8, 3), Vector2(19, 3), Vector2(21, 3), Vector2(23, 3), Vector2(24, 3), Vector2(25, 3), Vector2(26, 3), Vector2(29, 3), Vector2(0, 4), Vector2(3, 4), Vector2(8, 4), Vector2(12, 4), Vector2(13, 4), Vector2(14, 4), Vector2(15, 4), Vector2(16, 4), Vector2(17, 4), Vector2(18, 4), Vector2(19, 4), Vector2(21, 4), Vector2(23, 4), Vector2(26, 4), Vector2(29, 4), Vector2(0, 5), Vector2(3, 5), Vector2(8, 5), Vector2(14, 5), Vector2(19, 5), Vector2(21, 5), Vector2(23, 5), Vector2(26, 5), Vector2(29, 5), Vector2(0, 6), Vector2(3, 6), Vector2(4, 6), Vector2(5, 6), Vector2(6, 6), Vector2(8, 6), Vector2(10, 6), Vector2(14, 6), Vector2(19, 6), Vector2(21, 6), Vector2(23, 6), Vector2(26, 6), Vector2(29, 6), Vector2(0, 7), Vector2(10, 7), Vector2(19, 7), Vector2(21, 7), Vector2(26, 7), Vector2(27, 7), Vector2(29, 7), Vector2(0, 8), Vector2(1, 8), Vector2(2, 8), Vector2(3, 8), Vector2(4, 8), Vector2(5, 8), Vector2(6, 8), Vector2(7, 8), Vector2(8, 8), Vector2(10, 8), Vector2(12, 8), Vector2(16, 8), Vector2(21, 8), Vector2(29, 8), Vector2(0, 9), Vector2(8, 9), Vector2(10, 9), Vector2(12, 9), Vector2(16, 9), Vector2(18, 9), Vector2(19, 9), Vector2(21, 9), Vector2(22, 9), Vector2(23, 9), Vector2(24, 9), Vector2(25, 9), Vector2(26, 9), Vector2(27, 9), Vector2(28, 9), Vector2(29, 9), Vector2(0, 10), Vector2(8, 10), Vector2(10, 10), Vector2(12, 10), Vector2(13, 10), Vector2(14, 10), Vector2(15, 10), Vector2(16, 10), Vector2(19, 10), Vector2(21, 10), Vector2(29, 10), Vector2(0, 11), Vector2(3, 11), Vector2(4, 11), Vector2(5, 11), Vector2(6, 11), Vector2(8, 11), Vector2(10, 11), Vector2(14, 11), Vector2(19, 11), Vector2(21, 11), Vector2(23, 11), Vector2(24, 11), Vector2(25, 11), Vector2(26, 11), Vector2(29, 11), Vector2(0, 12), Vector2(6, 12), Vector2(8, 12), Vector2(14, 12), Vector2(23, 12), Vector2(29, 12), Vector2(0, 13), Vector2(3, 13), Vector2(6, 13), Vector2(8, 13), Vector2(10, 13), Vector2(14, 13), Vector2(15, 13), Vector2(16, 13), Vector2(17, 13), Vector2(18, 13), Vector2(19, 13), Vector2(21, 13), Vector2(23, 13), Vector2(24, 13), Vector2(25, 13), Vector2(26, 13), Vector2(29, 13), Vector2(0, 14), Vector2(3, 14), Vector2(6, 14), Vector2(8, 14), Vector2(10, 14), Vector2(21, 14), Vector2(26, 14), Vector2(29, 14), Vector2(0, 15), Vector2(3, 15), Vector2(6, 15), Vector2(10, 15), Vector2(14, 15), Vector2(18, 15), Vector2(21, 15), Vector2(26, 15), Vector2(29, 15), Vector2(0, 16), Vector2(3, 16), Vector2(4, 16), Vector2(5, 16), Vector2(6, 16), Vector2(7, 16), Vector2(8, 16), Vector2(9, 16), Vector2(10, 16), Vector2(12, 16), Vector2(13, 16), Vector2(14, 16), Vector2(15, 16), Vector2(18, 16), Vector2(21, 16), Vector2(23, 16), Vector2(24, 16), Vector2(25, 16), Vector2(26, 16), Vector2(29, 16), Vector2(0, 17), Vector2(8, 17), Vector2(14, 17), Vector2(17, 17), Vector2(18, 17), Vector2(20, 17), Vector2(21, 17), Vector2(29, 17), Vector2(0, 18), Vector2(21, 18), Vector2(29, 18), Vector2(0, 19), Vector2(1, 19), Vector2(2, 19), Vector2(3, 19), Vector2(4, 19), Vector2(5, 19), Vector2(6, 19), Vector2(7, 19), Vector2(8, 19), Vector2(9, 19), Vector2(10, 19), Vector2(11, 19), Vector2(12, 19), Vector2(13, 19), Vector2(14, 19), Vector2(15, 19), Vector2(16, 19), Vector2(17, 19), Vector2(18, 19), Vector2(19, 19), Vector2(20, 19), Vector2(21, 19), Vector2(22, 19), Vector2(23, 19), Vector2(24, 19), Vector2(25, 19), Vector2(26, 19), Vector2(27, 19), Vector2(28, 19), Vector2(29, 19)]

func _ready():
	
	# 28*18, excluding four outer edges
	astar_grid.set_diagonal_mode(AStarGrid2D.DIAGONAL_MODE_NEVER)
	astar_grid.region = Rect2i(0, 0, 29+1, 19+1) # Rect2i docs: By convention, points on the right and bottom edges are not included.
	astar_grid.cell_size = Vector2(8,8)
	astar_grid.update()

	for o in OBSTACLES:
		#print(o)
		astar_grid.set_point_solid(o,true)

